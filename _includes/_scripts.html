<script>
     // JavaScript for Expandable BibTeX and Copy to Clipboard
    // âœ… Toggle BibTeX display
    function toggleBibtex(id, event) {
        event.stopPropagation(); // Prevents triggering the parent <a> link

        var bibtexText = document.getElementById(id);
        var copyButton = document.querySelector('[onclick="copyBibtex(\'' + id + '\', event)"]');
        var showButton = document.querySelector('[onclick="toggleBibtex(\'' + id + '\', event)"]');

        if (bibtexText.style.display === "none") {
            bibtexText.style.display = "block";
            copyButton.style.display = "inline-block";
            showButton.textContent = "ðŸ”½ Hide BibTeX";
        } else {
            bibtexText.style.display = "none";
            copyButton.style.display = "none";
            showButton.textContent = "ðŸ“‹ Cite";
        }
    }

    // âœ… Copy BibTeX to Clipboard
    function copyBibtex(id, event) {
        event.stopPropagation(); // Prevents triggering the parent <a> link

        var bibtexText = document.getElementById(id);
        navigator.clipboard.writeText(bibtexText.value).then(() => {
            alert("ðŸ“‹ BibTeX copied to clipboard!");
        }).catch(err => {
            console.error("Failed to copy: ", err);
        });
    }
</script>
